<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Scanner
    </ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear" (click)=logout()>
        <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Scanner</ion-title>
    </ion-toolbar>
  </ion-header>


  <div [ngSwitch]="reagentType">
    <div *ngSwitchCase="''">
      <ion-item>No scanning result</ion-item>
    </div>

    <!-- Primary reagent -->
    <div *ngSwitchCase="'Primary'">
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Reagent Type</h3>
          <p>Primary</p>
        </ion-label>
      </ion-item> 
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Reagent ID</h3>
          <p>{{reagentInfo._id}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Reagent Name</h3>
          <p>{{reagentInfo.reagentName}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Supplier</h3>
          <p>{{reagentInfo.supplier}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Lot Number</h3>
          <p>{{reagentInfo.lotNr}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Cat Number</h3>
          <p>{{reagentInfo.catNr}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Expiry Date</h3>
          <p>{{reagentInfo.expiryDate | date:'fullDate'}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Date Received</h3>
          <p>{{reagentInfo.dateReceived | date:'fullDate'}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Date of First Use</h3>
          <p>{{reagentInfo.dateOfFirstUse | date:'fullDate'}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Condition</h3>
          <p>{{reagentInfo.condition}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Action</h3>
          <p>{{reagentInfo.action}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Received By</h3>
          <p *ngIf="reagentInfo.receivedBy !== null && reagentInfo.receivedBy !== ''">
            {{reagentInfo.receivedBy.firstName}} {{reagentInfo.receivedBy.lastName}}
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>First Used By</h3>
          <p *ngIf="reagentInfo.firstUsedBy !== null && reagentInfo.firstUsedBy !== ''">
            {{reagentInfo.firstUsedBy.firstName}} {{reagentInfo.firstUsedBy.lastName}}
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Discarded By</h3>
          <p *ngIf="reagentInfo.discardedBy !== null && reagentInfo.discardedBy !== ''">
            {{reagentInfo.discardedBy.firstName}} {{reagentInfo.discardedBy.lastName}}
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Last Edited By</h3>
          <p *ngIf="reagentInfo.lastEditedBy !== null && reagentInfo.lastEditedBy !== ''">
            {{reagentInfo.lastEditedBy.firstName}} {{reagentInfo.lastEditedBy.lastName}}
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Storage Location</h3>
          <p>{{reagentInfo.storageLocation}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Status</h3>
          <p>{{reagentInfo.status}}</p>
        </ion-label>
      </ion-item>
      <ion-button expand="block" color="danger" id="dispose" 
      (click)="disposeConfirm()">Dispose</ion-button>
    </div>

    <!-- Secondary reagent -->
    <div *ngSwitchCase="'Secondary'">
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Reagent Type</h3>
          <p>Secondary</p>
        </ion-label>
      </ion-item>   
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Reagent ID</h3>
          <p>{{reagentInfo._id}}</p>
        </ion-label>
      </ion-item>   
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Reagent Name</h3>
          <p>{{reagentInfo.reagentName}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Lot Number</h3>
          <p>{{reagentInfo.lotNr}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Date Made</h3>
          <p>{{reagentInfo.dateCreated | date:'fullDate'}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Expiry Date</h3>
          <p>{{reagentInfo.expiryDate | date:'fullDate'}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Date of First Use</h3>
          <p>{{reagentInfo.dateOfFirstUse | date:'fullDate'}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Assay Name</h3>
          <p>{{reagentInfo.assayName}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Created By</h3>
          <p *ngIf="reagentInfo.createdBy !== null && reagentInfo.createdBy !== ''">
            {{reagentInfo.createdBy.firstName}} {{reagentInfo.createdBy.lastName}}
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>First Used By</h3>
          <p *ngIf="reagentInfo.firstUsedBy !== null && reagentInfo.firstUsedBy !== ''">
            {{reagentInfo.firstUsedBy.firstName}} {{reagentInfo.firstUsedBy.lastName}}
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Discarded By</h3>
          <p *ngIf="reagentInfo.discardedBy !== null && reagentInfo.discardedBy !== ''">
            {{reagentInfo.discardedBy.firstName}} {{reagentInfo.discardedBy.lastName}}
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Last Edited By</h3>
          <p *ngIf="reagentInfo.lastEditedBy !== null && reagentInfo.lastEditedBy !== ''">
            {{reagentInfo.lastEditedBy.firstName}} {{reagentInfo.lastEditedBy.lastName}}
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Status</h3>
          <p>{{reagentInfo.status}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          <h3>Reagents</h3>
          <p *ngFor="let i of reagentInfo.reagents">{{ i.lotNr }}</p>
        </ion-label>
      </ion-item>

      <ion-button expand="block" color="danger" id="dispose" 
      (click)="disposeConfirm()">Dispose</ion-button>
    </div>
  </div>

  <ion-button expand="block" id="scan" (click)=scan()>Scan Again</ion-button>
</ion-content>
